# IMPORTANTE:
# Este archivo es solo una plantilla de Secret para entornos locales o de prueba.
# No está pensado para usarse en producción tal cual.
#
# FIX BUG 8:
# Las credenciales sensibles (Redis password, Database URL, etc.)
# NO deben almacenarse en ConfigMaps. Deben gestionarse mediante Secrets.
#
# En producción los secretos deberían gestionarse con:
#   - AWS Secrets Manager + External Secrets Operator
#   - Sealed Secrets (Bitnami) en flujos GitOps
#   - Vault (HashiCorp) u otra solución similar
#
# Los valores aquí definidos están en base64 y son únicamente placeholders.
# Nunca se deben subir secretos reales al repositorio.
#
# Para generar un valor en base64:
#   echo -n "tu-valor-secreto" | base64
#
# Revisa la documentación del proyecto para más detalles sobre la estrategia de secretos.

apiVersion: v1
kind: Secret
metadata:
  name: app-secrets
  labels:
    app: devops-challenge

type: Opaque

data:

  # FIX BUG 8:
  # Contraseña de Redis (dato sensible)
  # Valor de ejemplo: "changeme-use-external-secrets-in-prod"

  REDIS_PASSWORD: Y2hhbmdlbWUtdXNlLWV4dGVybmFsLXNlY3JldHMtaW4tcHJvZA==

  # Key para user-service (formato minúscula-guion)
  redis-password: Y2hhbmdlbWUtdXNlLWV4dGVybmFsLXNlY3JldHMtaW4tcHJvZA==


  # FIX BUG 9:
  # Database URL con credenciales (dato sensible)
  # Valor de ejemplo: "postgresql://user:password@db:5432/app"
  # Las credenciales sensibles se almacenan en un Secret, evitando exponerlas en texto plano dentro de ConfigMap.

  DATABASE_URL: cG9zdGdyZXNxbDovL3VzZXI6cGFzc3dvcmRAZGI6NTQzMi9hcHA=
